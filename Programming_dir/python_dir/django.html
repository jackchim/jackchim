<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Jack_Chim django 开发笔记_高级_工程师_Blog_Wiki</title>
<meta name="description" content="" />
<meta name="keywords" content="" />
<link rel="stylesheet" type="text/css" href="../../css/style.css" media="screen" />
<!-- <link rel="shortcut icon" href="" /> -->
<link rel='stylesheet' id='wp-pagenavi-css'  href='../../css/pagenavi-css.css' type='text/css' media='all' />
<script type='text/javascript' src='../../js/jquery.js'></script>


<!-- for SyntaxHighlighter core -->
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shCore.js"></script>
<link type="text/css" rel="stylesheet" href="../../syntaxhighlighter/styles/shCore.css"/>
<!-- for SyntaxHighlighter theme -->
<link type="text/css" rel="stylesheet" href="../../syntaxhighlighter/styles/shThemeDefault.css"/>
<!-- for SyntaxHighlighter syntax -->
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushCss.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushPython.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushXml.js"></script>
<script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushSql.js"></script>

<script type="text/javascript" src="../../js/jquery.js"></script>

<!-- for SyntaxHighlighter execute -->
<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
<script type="text/javascript">
     SyntaxHighlighter.all()
</script>
<meta name="generator" content="" />
</head>

<body>
<div align="center">
<div id="wrapper">
<!--// header Start-->
<div id="hd">
	<div id="sitemeta">
		<ul>
			<li class="rss"><a href="http://feed.feedsky.com/">Subscribe to articles using RSS Feed</a></li>
  		</ul>
	</div>
	<div id="titlewrapper">
		<div id="blogtitle">
			<h1><a href="../../index.html">Jack Chim'Code Notes</a></h1>
		</div>
		<div id="menu">
			<ul>
				<li><div id="blogdescription"> Keep It Simple and Stupid.</div></li>
				<li><a href="../../index.html">Home</a></li>
				<li class="page_item page-item-2"><a href="../../about.html">About</a></li>
			</ul>
		</div>
	</div>
	<div class="clear">&nbsp;</div>

	<div class="clear">&nbsp;</div>
</div>
<!--// header End-->


<!--// sidebar Start-->
<div id="sidebar" class="yui-b">
<ul class="sidebar">
<li id="search-3" class="widget widget_search"><form method="get" id="searchform" action="">
<input type="text" size="14" value="" name="s" id="s" class="s" />
<input type="submit" id="searchsubmit" value="GO" />
</form>
<BR><BR></li>
<li id="tag_cloud-3" class="widget widget_tag_cloud"><h2 class="widgettitle">Me</h2>
<br>
<div class="tagcloud">

	<span class="icons_github"></span> <a href='https://github.com/ziikii' target="_blank"  >GitHub </a><br>
	<span class="icons_twitter"></span> <a href='https://twitter.com/jack_chim'  target="_blank" >Twitter </a> <br>
	<span class="icons_linkedin"></span> <a href='http://www.linkedin.com/in/jackchim' target="_blank"  >Linkedin </a><br>
	<span class="icons_sinaweibo"></span> <a href='http://weibo.com/u/1893763090' target="_blank" >Sina Weibo</a><br>
	<span class="icons_mail"></span>     <a href='#'  target="_blank" >Mail:ziikii1#qq.com</a><br>

</div>
</li>
<br>
<li id="categories-4" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
		<ul>
<li class="cat-item cat-item-67"><a href="../../Programming_dir/Programming.html" >Programming</a></li>
<li class="cat-item cat-item-6"><a href="../../Security_dir/Security.html" >Security</a></li>
<li class="cat-item cat-item-6"><a href="../../Database_dir/Database.html" >Database</a></li>
<li class="cat-item cat-item-6"><a href="../../Docs_dir/Docs.html" >Docs</a></li>
<li class="cat-item cat-item-6"><a href="../../Desktop_dir/Desktop.html" >Desktop</a></li>
<li class="cat-item cat-item-6"><a href="../../OS_dir/OS.html" >OS</a></li>
<li class="cat-item cat-item-6"><a href="../../Web_dir/Web.html" >Web</a></li>
<li class="cat-item cat-item-6"><a href="../../Develop_dir/Develop.html" >Develop/Tools</a></li>
<li class="cat-item cat-item-6"><a href="../../Server_dir/Server.html" >Server</a></li>
<li class="cat-item cat-item-6"><a href="../../Editor_dir/Editor.html" >Editor</a></li>
<li class="cat-item cat-item-6"><a href="../../Design_dir/Design.html" >Design</a></li>
<li class="cat-item cat-item-6"><a href="../../English_dir/English.html" >English notes</a></li>

		</ul>
</li>

<li id="archives-4" class="widget widget_archive"><h2 class="widgettitle"><a href="../../diary/diary.html" target="_blank">Diary</a></h2>
		<ul>
	<li><a href='../../diary/2012.html' title=''>2012 Year</a></li>
	<li><a href='../../diary/2011.html' title=''>2011 Year</a></li>
		</ul>
</li>
<li id="linkcat-2" class="widget widget_links"><h2 class="widgettitle">Site & Tools</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://stackoverflow.com/" target="_blank">Stackoverflow </a></li>
<li><a href="http://www.ostools.net/">ostools</a></li>

	</ul>
</li>

</ul>
</div>
<!--// sidebar End-->



<!--// content Start-->
<div id="content">

<h1 ><a  href="">django</a> Page</h1>

<ul>
<li>
<a href="https://www.djangoproject.com ">Django 官网</a>

</ul>

<hr />

<p>
 Get the latest development version
</p>

<p>
git clone <a href="https://github.com/django/django.git">https://github.com/django/django.git</a>
</p>

<hr />
<h2 id="toc_0.1">部署方式</h2>


<hr />
<h4 id="toc_0.1.0.1">FCGI</h4>

<p>
<strong>nginx conf server</strong>
</p>

<pre>
     location ~ ^/ {  
        # 指定 fastcgi 的主机和端口  
        fastcgi_pass 127.0.0.1:9000;  
        fastcgi_param PATH_INFO $fastcgi_script_name;  
        fastcgi_param REQUEST_METHOD $request_method;  
        fastcgi_param QUERY_STRING $query_string;  
        fastcgi_param CONTENT_TYPE $content_type;  
        fastcgi_param CONTENT_LENGTH $content_length;  
        fastcgi_param SERVER_PROTOCOL $server_protocol;  
        fastcgi_param SERVER_PORT $server_port;  
        fastcgi_param SERVER_NAME $server_name;  
        fastcgi_pass_header Authorization;  
        fastcgi_intercept_errors off;  
    }   
</pre>


<hr />
<h4 id="toc_0.1.0.2">WSGI</h4>



<hr />
<h4 id="toc_0.1.0.3">uWSGI</h4>

<p>
<strong>安装uwsgi模块</strong>
</p>

<p>
需安装python-devel <code>yum insall python-devel</code>
</p>

<pre class="brush:shell">
wget http://projects.unbit.it/downloads/uwsgi-1.2.6.tar.gz 
tar zxvf uwsgi-1.2.6.tar.gz
cd uwsgi-1.2.6
make
cp uwsgi /usr/bin
</pre>

<p>
<strong>nginx conf server</strong>
</p>

<pre>
server {    
listen    80;    
server_name 192.168.146.137;  
root /home/&lt;app_dir&gt;; 

access_log /home/wwwlogs/nginx_django_access.log;
error_log /home/wwwlogs/nginx_django_error.log; 

 location /{
　　　　uwsgi_pass 127.0.0.1:8000;
　　　　include uwsgi_params;
　　　　access_log off;
　　} 
}
</pre>

<p>
<strong>配置uWSGI</strong>
</p>

<p>
vim /home/www/hello/uwsgi.xml
</p>

<pre class="brush:xml">
&lt;uwsgi&gt;
    &lt;master&gt;true&lt;/master&gt;
    &lt;socket&gt;127.0.0.1:8000&lt;/socket&gt;
    &lt;processes&gt;8&lt;/processes&gt;
    &lt;profiler&gt;true&lt;/profiler&gt;
    &lt;max-requests&gt;2048000&lt;/max-requests&gt;
    &lt;buffer-size&gt;8192&lt;/buffer-size&gt;
    &lt;module&gt;wsgi_app&lt;/module&gt;
    &lt;limit-as&gt;256&lt;/limit-as&gt;
    &lt;pythonpath&gt;/home/www/hello&lt;/pythonpath&gt;
    &lt;chdir&gt;/home/www/hello&lt;/chdir&gt;
    &lt;memory-report&gt;true&lt;/memory-report&gt;
    &lt;enable-threads&gt;true&lt;/enable-threads&gt;
    &lt;logdate&gt;true&lt;/logdate&gt;
    &lt;pidfile&gt;/tmp/uwsgi.pid&lt;/pidfile&gt;
    &lt;daemonize&gt;/var/log/uwsgi_app.log&lt;/daemonize&gt;
&lt;/uwsgi&gt; 

</pre>

<p>
vim /home/www/hello/wsgi_app.py 
</p>

<pre class="brush:python">
#!/usr/bin/python
import os
os.environ['DJANGO_SETTINGS_MODULE'] = 'hello.settings'
import django.core.handlers.wsgi
application = django.core.handlers.wsgi.WSGIHandler()
</pre>




<p>
<strong>stop uWsgi</strong>
</p>


<p>
<code>uwsgi --stop /tmp/uwsgi.pid</code>
</p>

<p>
<strong>reload uWsgi</strong>
</p>

<p>
<code>uwsgi --reload  /tmp/uwsgi.pid</code>
</p>



<p>
<strong>启动应用</strong>
</p>

<p>
<code>uwsgi -x /home/www/hello/uwsgi.xml</code>
</p>

<p>
<strong>查看端口情况</strong>
</p>

<p>
<code>netstat -tunlp |grep 8000</code>
</p>

<p>
<strong>进程列表</strong>
</p>

<p>
<code>ps aux | grep uwsgi</code>
</p>


<p>
<em>注意：每次修改Django应用之后，都需要重启uWsgi服务使新的应用生效。</em>
</p>

<p>
<strong>参考资料</strong>
</p>
<ul>
<li>
<a href="http://projects.unbit.it/uwsgi/wiki/Doc">http://projects.unbit.it/uwsgi/wiki/Doc</a>

<li>
<a href="http://projects.unbit.it/uwsgi/wiki/Example">http://projects.unbit.it/uwsgi/wiki/Example</a>

</ul>

<hr />
<h2 id="toc_0.2">django 环境搭建</h2>
<ul>
<li>
<a href="https://www.djangoproject.com/download/1.4.2/tarball/">https://www.djangoproject.com/download/1.4.2/tarball/</a>

<li>
<a href="http://www.djangoproject.com/m/releases/1.4/Django-1.4.2.tar.gz">http://www.djangoproject.com/m/releases/1.4/Django-1.4.2.tar.gz</a>

</ul>
<p>
download Django-1.4.2.tar.gz 
</p>

<p>
install Django 
</p>

<pre>
tar xzvf Django-1.4.2.tar.gz
cd Django-1.4.2
python setup.py install     
</pre>


<p>
<strong>Setup Your First Project</strong>
</p>

<pre>
django-admin.py startproject &lt;mytestprojectname&gt;  
cd &lt;mytestprojectname&gt; 
python manage.py runserver  
</pre>
 
<p>
指定ip和端口运行
</p>

<p>
<code>python manage.py runserver 192.168.146.137:8000</code>
</p>

<p>
<strong>1.建立 Django 站点工程</strong>
</p>

<p>
<code>django-admin.py startproject projectname</code>
</p>

<p>
<strong>2.建立 App</strong>
</p>

<p>
<code>python manage.py startapp &lt;appname&gt;</code>
</p>

<p>
<strong>3.验证 Model</strong>
</p>

<p>
<code>python manage.py validate</code>
</p>

<p>
<strong>4.生成相应的database</strong>
</p>

<p>
<code>python manage.py syncdb</code>
</p>



<hr />
<h2 id="toc_0.3">错误解决</h2>


<pre>
  django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: N
</pre>

<p>
需安装MySQL-python <code>yum -y install MySQL-python </code>
</p>


<hr />
<h2 id="toc_0.4">apps</h2>
<ul>
<li>
<a href="http://ddtcms.com/news/2012/02/18/tui-jian-35-ge-zhi-de-yi-shi-de-django-apps/">推荐35个值得一试的django apps</a>

<li>
<a href="https://www.django-cms.org/ ">django-cms</a>

<li>
<a href="http://github.com/eldarion/biblion ">Biblion</a> -- Bilion是eldarion.com的一个已经被提取和开源的blog程序

<li>
<a href="http://bitbucket.org/codekoala/django-articles/ ">Django-article</a> -- 基于django开发的博客引擎

<li>
<a href="http://www.oschina.net/p/cartridge ">cartridge</a> -- 一款开源的购物车应用，同样建立在Django上。

<li>
<a href="http://www.oschina.net/p/mezzanine ">开源内容管理平台Mezzanine</a>

<li>
<a href="http://code.google.com/p/ddtcms ">ddtcms</a> DDTCMS 是一个基于Django的内容管理系统（CMS）

</ul>


<!--// commentwrap Start-->
<!-- 加载duoshuo.com 评论插件 -->
<div id="commentwrap">
<h2>Leave a comment?</h2>
<hr>
    <div id="disqus_thread" style=""></div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */

    var disqus_shortname = 'jackchim'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


        
</div>
<!--// commentwrap End-->

</div>
<!--// content  End-->
<!--// footer Start-->
<div class="clear">&nbsp;</div>
<div id="footnote" align="center">
	  Cheers!! Vimwiki  © Copyright 2012 Jack Chim. All Rights Reserved.
</div>
<!--// footer End-->
<!-- http://blog.sonitech.org/2011/07/06/sshscp-through-gateway/ -->
</div>

</div>
<a href="javascript:;" id="returnTop" style="bottom: 200px;">回到顶部</a>
<script type="text/javascript">
$(document).ready(function(){
    initTxt();
    //$('#returnTop').hide();
    $(window).scroll(function(){
        if($(document).scrollTop()>=100){
            if($.browser.msie&&($.browser.version == "6.0")){
                $('#returnTop').css("_top","expression(eval(document.documentElement.scrollTop+(document.documentElement.clientHeight/2)-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0))-0);");
            }
            $('#returnTop').animate({bottom:"200px"},{ queue: false, duration: 10 });
        }else{
            $('#returnTop').css("_top","1000");
            $('#returnTop').animate({bottom:"-200px"},{ queue: false, duration: 10 });
        }
    });
    $('#returnTop').click(function(){
        $('html, body').animate({scrollTop:0}, 'slow');
        return false;
    });
 
     
});
 
function initTxt(){
    for(var i=0;i<=300;i++){
        $("#bigBox").append("<p>这是第"+i+"行</p>");
    }
}
</script>
</body>
</html>

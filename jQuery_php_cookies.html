<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Jack_Chim jQuery_php_cookies 高级php开发笔记_Blog_Wiki</title>
<meta name="description" content="" />
<meta name="keywords" content="" />
<link rel="stylesheet" type="text/css" href="./css/style.css" media="screen" />
<!-- <link rel="shortcut icon" href="" /> -->
<link rel='stylesheet' id='wp-pagenavi-css'  href='./css/pagenavi-css.css' type='text/css' media='all' />
<script type='text/javascript' src='./js/jquery.js'></script>


<!-- for SyntaxHighlighter core -->
<script type="text/javascript" src="./syntaxhighlighter/scripts/shCore.js"></script>
<link type="text/css" rel="stylesheet" href="./syntaxhighlighter/styles/shCore.css"/>
<!-- for SyntaxHighlighter theme -->
<link type="text/css" rel="stylesheet" href="./syntaxhighlighter/styles/shThemeDefault.css"/>
<!-- for SyntaxHighlighter syntax -->
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushCss.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushPython.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushXml.js"></script>
<script type="text/javascript" src="./syntaxhighlighter/scripts/shBrushPlain.js"></script>

<script type="text/javascript" src="./js/jquery.js"></script>

<!-- for SyntaxHighlighter execute -->
<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
<script type="text/javascript">
     SyntaxHighlighter.all()
</script>
<meta name="generator" content="" />
</head>

<body>
<div align="center">
<div id="wrapper">
<!--// header Start-->
<div id="hd">
	<div id="sitemeta">
		<ul>
     			     			<li><a href=""> NO LOGIN</a></li>
			<li class="rss"><a href="http://feed.feedsky.com/">Subscribe to articles using RSS Feed</a></li>
  		</ul>
	</div>
	<div id="titlewrapper">
		<div id="blogtitle">
			<h1><a href="index.html">Jack Chim'Code Notes</a></h1>
		</div>
		<div id="menu">
			<ul>
				<li><div id="blogdescription"> Keep It Simple and Stupid.</div></li>
				<li><a href="index.html">Home</a></li>
				<li class="page_item page-item-2"><a href="about.html">About</a></li>
			</ul>
		</div>
	</div>
	<div class="clear">&nbsp;</div>

	<div class="clear">&nbsp;</div>
</div>
<!--// header End-->


<!--// sidebar Start-->
<div id="sidebar" class="yui-b">
<ul class="sidebar">
<li id="search-3" class="widget widget_search"><form method="get" id="searchform" action="">
<input type="text" size="14" value="" name="s" id="s" class="s" />
<input type="submit" id="searchsubmit" value="GO" />
</form>
<BR><BR></li>
<li id="tag_cloud-3" class="widget widget_tag_cloud"><h2 class="widgettitle">Tags</h2>
<div class="tagcloud"><a href='http://blog.sonitech.org/tags/apache/' class='tag-link-36' title='2 topics' style='font-size: 12.581818181818pt;'>apache</a>
<a href='http://blog.sonitech.org/tags/centos/' class='tag-link-18' title='5 topics' style='font-size: 20.218181818182pt;'>CentOS</a>
<a href='http://blog.sonitech.org/tags/software/' class='tag-link-62' title='1 topic' style='font-size: 8pt;'>software</a>
<a href='http://blog.sonitech.org/tags/ssl/' class='tag-link-40' title='2 topics' style='font-size: 12.581818181818pt;'>ssl</a>
<a href='http://blog.sonitech.org/tags/subversion/' class='tag-link-34' title='2 topics' style='font-size: 12.581818181818pt;'>subversion</a>
<a href='http://blog.sonitech.org/tags/svn/' class='tag-link-33' title='2 topics' style='font-size: 12.581818181818pt;'>svn</a>
<a href='http://blog.sonitech.org/tags/svndump/' class='tag-link-38' title='1 topic' style='font-size: 8pt;'>svndump</a>
<a href='http://blog.sonitech.org/tags/svndumpfilter/' class='tag-link-39' title='1 topic' style='font-size: 8pt;'>svndumpfilter</a>
<a href='http://blog.sonitech.org/tags/temperature/' class='tag-link-55' title='1 topic' style='font-size: 8pt;'>temperature</a>
<a href='http://blog.sonitech.org/tags/trac/' class='tag-link-35' title='1 topic' style='font-size: 8pt;'>trac</a>
<a href='http://blog.sonitech.org/tags/ubuntu/' class='tag-link-28' title='2 topics' style='font-size: 12.581818181818pt;'>ubuntu</a>
<a href='http://blog.sonitech.org/tags/web-server/' class='tag-link-51' title='1 topic' style='font-size: 8pt;'>Web Server</a>
<a href='http://blog.sonitech.org/tags/windows/' class='tag-link-6' title='1 topic' style='font-size: 8pt;'>Windows</a>
<a href='http://blog.sonitech.org/tags/xen/' class='tag-link-26' title='6 topics' style='font-size: 22pt;'>xen</a>
<a href='http://blog.sonitech.org/tags/xen-tools/' class='tag-link-25' title='1 topic' style='font-size: 8pt;'>xen-tools</a>
<a href='http://blog.sonitech.org/tags/yum/' class='tag-link-20' title='1 topic' style='font-size: 8pt;'>yum</a></div>
</li>
<li id="categories-4" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
		<ul>
		%toc
	<li class="cat-item cat-item-67"><a href="http://blog.sonitech.org/categories/database/" title="View all posts filed under Database">Database</a>
</li>
	<li class="cat-item cat-item-31"><a href="http://blog.sonitech.org/categories/develop/" title="View all posts filed under Develop">Develop</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://blog.sonitech.org/categories/discovery/" title="View all posts filed under Discovery">Discovery</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://blog.sonitech.org/categories/hardware/" title="View all posts filed under Hardware">Hardware</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://blog.sonitech.org/categories/lgqn/" title="View all posts filed under Lgqn">Lgqn</a>
</li>
	<li class="cat-item cat-item-60"><a href="http://blog.sonitech.org/categories/mac/" title="View all posts filed under Mac">Mac</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://blog.sonitech.org/categories/mobile/" title="View all posts filed under Mobile">Mobile</a>
</li>
	<li class="cat-item cat-item-48"><a href="http://blog.sonitech.org/categories/unix-linux/monitor/" title="View all posts filed under Monitor">Monitor</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://blog.sonitech.org/categories/movie-music/" title="View all posts filed under Movie Music">Movie Music</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://blog.sonitech.org/categories/other/" title="View all posts filed under Other">Other</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://blog.sonitech.org/categories/develop/ruby-on-rails/" title="View all posts filed under Ruby on Rails">Ruby on Rails</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://blog.sonitech.org/categories/space-diary/" title="View all posts filed under Space Diary">Space Diary</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.sonitech.org/categories/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://blog.sonitech.org/categories/unix-linux/" title="View all posts filed under Unix Linux">Unix Linux</a>
</li>
	<li class="cat-item cat-item-27"><a href="http://blog.sonitech.org/categories/unix-linux/virtualization/" title="View all posts filed under Virtualization">Virtualization</a>
</li>
	<li class="cat-item cat-item-51"><a href="http://blog.sonitech.org/categories/web-server/" title="View all posts filed under Web Server">Web Server</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://blog.sonitech.org/categories/windows/" title="View all posts filed under Windows">Windows</a>
</li>
		</ul>
</li>
<li id="google-reader" class="widget widget_googlereader"><h2 class="widgettitle">Google Reader Shared Items</h2>
<ul><li style="list-style-type: none;"><a href="http://www.ftchinese.com/story/001042292">欧洲央行行长：欧元区解体代价高昂</a> (<a href="http://www.ftchinese.com/">FT中文网 - 今日焦点</a>)</li><li style="list-style-type: none;"><a href="http://www.udpwork.com/item/6449.html">基站轨迹定位算法</a> (<a href="http://www.udpwork.com/">IT牛人博客聚合网站</a>)</li><li style="list-style-type: none;"><a href="http://solidot.org.feedsportal.com/c/33236/f/556826/s/19b03cf5/l/0Lbooks0Bsolidot0Borg0Carticle0Bpl0Dsid0F110C10A0C310C0A5392190Gamp0Pfrom0Frss/story01.htm">电子书有重量</a> (<a href="http://www.feedzshare.com">FeedzShare</a>)</li><li style="list-style-type: none;"><a href="http://web20share.feedsportal.com/c/33819/f/608508/s/197e6cd8/l/0L0Sweb20Ashare0N0C20A110C10A0Ctv0Etime0Bhtml/story01.htm">TV-time：围绕电视节目签到和评论的手机互动应用</a> (<a href="http://bullog.org/">牛博山寨 编辑推荐</a>)</li><li style="list-style-type: none;"><a href="http://www.36kr.com/p/51749.html">Romo：花78美元，人人都可以拥有一台智能手机驱动的机器人</a> (<a href="http://www.36kr.com">36氪</a>)</li></ul>
<a href="http://www.google.com/reader/shared/13444098006933559883" style="float:right;">Shared Items</a></li>
<li id="recent-comments-3" class="widget widget_recent_comments"><h2 class="widgettitle">Recent Comments</h2>
<ul id="recentcomments"><li class="recentcomments">Delisa Rasmuson on <a href="http://blog.sonitech.org/2010/04/15/install-subversion-env-on-centos-apache2-ssl-subversion-trac-and-mirror-server/comment-page-1/#comment-696">Install Subversion Env on CentOS (apache2 SSL subversion trac and mirror server)</a></li><li class="recentcomments"><a href='http://www.beanstalkstudio.cc/archives/26' rel='external nofollow' class='url'>Git 安裝筆記 ( Centos 5 ) | 魔豆工作室</a> on <a href="http://blog.sonitech.org/2010/12/04/%e5%9c%a8-centos-5-5-%e4%b8%8a%e5%ae%89%e8%a3%85-git/comment-page-1/#comment-695">在 CentOS 5.5 上安装 Git</a></li><li class="recentcomments"><a href='http://www.beanstalkstudio.cc/git-%e5%ae%89%e8%a3%9d%e7%ad%86%e8%a8%98-centos-5/' rel='external nofollow' class='url'>Git 安裝筆記 ( Centos 5 ) | 魔豆工作室</a> on <a href="http://blog.sonitech.org/2010/12/04/%e5%9c%a8-centos-5-5-%e4%b8%8a%e5%ae%89%e8%a3%85-git/comment-page-1/#comment-694">在 CentOS 5.5 上安装 Git</a></li><li class="recentcomments"><a href='http://www.i-medical.me' rel='external nofollow' class='url'>猪头山</a> on <a href="http://blog.sonitech.org/2011/05/21/%e5%9c%a8-mac-%e4%b8%8a%e7%94%a8%e6%97%a0%e7%ba%bf%e6%b5%81%e9%87%8f%e7%9a%84-wap-%e5%8d%a1%e4%b8%8a-3g/comment-page-1/#comment-693">在 Mac 上用无线流量的 WAP 卡上 3G</a></li><li class="recentcomments"><a href='http://www.saphiregamblingcasino.com' rel='external nofollow' class='url'>John</a> on <a href="http://blog.sonitech.org/2010/03/02/install-xen-on-centos-5/comment-page-1/#comment-691">Install Xen on CentOS 5.x</a></li></ul></li>
<li id="archives-4" class="widget widget_archive"><h2 class="widgettitle">Archives</h2>
		<ul>
			<li><a href='http://blog.sonitech.org/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://blog.sonitech.org/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://blog.sonitech.org/2011/05/' title='May 2011'>May 2011</a></li>
		</ul>
</li>
<li id="linkcat-2" class="widget widget_links"><h2 class="widgettitle">Tools</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://www.asciiflow.com/" target="_blank">ASCIIFlow</a></li>
<li><a href="http://www.x86-guide.com/">x86 CPU info</a></li>

	</ul>
</li>

</ul>
</div>
<!--// sidebar End-->



<!--// content Start-->
<div id="content">

<h1 ><a  href="">jQuery_php_cookies</a> Page</h1>

<p>
或者是来设置cookies，这里我们讲解一下如果用js和php来读写cookies。用js读写cookies，我们用了一个jQuery插件。
</p>
<h2 id="toc_0.1">用PHP读写cookies</h2>
<p>
创建cookies
</p>

<p>
在php中创建cookies很容易，用setcookie就可以了。
</p>
<pre>
bool setcookie ( string name [, string value [, int expire [, string path [, string domain [, int secure]]]]])
</pre>

<p>
下面我们来做个cookies访问量计数器。创建为pageVisits的cookies项，值为$visitd,保存时间为7天，针对域名是blog.luluui.com。
</p>
<pre  class="brush:php">
setcookie(
	    'pageVisits',               // cookie名称
	    $visited,                   // 值，例子中的访问量
            time()+7*24*60*60,   // 失效时间，单位为秒，如果不写或者为0，就保存到浏览器关闭为止
    	    '/',                           // 保存路径
	    'blog.luluui.com'           // 针对域名，一般不用写，只用到前4个参数就可以了。
	);
</pre>

<h2 id="toc_0.2">读取cookies</h2>

<p>
在php中读取cookies就简单得多了，php将所有的cookies变量保存到全局变量 $ _COOKIE。
</p>
<pre class="brush:php">
$visits = (int)$_COOKIE['pageVisits']+1;//用$_COOKIE['pageVisits']取得访问量，再加1
echo "你访问了: ".$visits." 次";
</pre>

<h2 id="toc_0.3">删除cookies</h2>

<p>
删除cookies只需要将cookies设置为过期 就可以 了。
</p>

<pre class="brush:php">
setcookie(
	    'pageVisits',
	    $visited,
	    time()-7*24*60*60,      // 设置为前7天，该cookie就会自动删除了
	    '/',
	    'demo.tutorialzine.com'
	);
</pre>

<h2 id="toc_0.4">用jQuery读写cookies</h2>

<p>
用jquery来读写cookies，我们要用一个jquery cookie 插件
</p>
<pre class="brush:js">
$(document).ready(function(){
	    // 设置一个名为kittens的cookie，值为7只狗子，保存时间到浏览器关闭
	    $.cookie("kittens","7只狗子");
	    // 设置一个名为demoCookie的cookie,值'8只狗',保存7天，路径为'/',域名为blog.luluui.com
	    $.cookie("demoCookie",'8只狗',{expires: 7, path: '/', domain: 'blog.luluui.com'});
	});
</pre>

<h2 id="toc_0.5">读取cookies</h2>
<pre class="brush:js">
$(document).ready(function(){
	    // 取得kittens的值，赋给str
	    var str = $.cookie("kittens");
	});
</pre>

<h2 id="toc_0.6">删除cookies</h2>

<p>
删除cookies,只需要将设置项设置为null就可以了。
</p>
<pre class="brush:js">
$(document).ready(function(){
          //删除kittens 的cookies
	    var str = $.cookie("kittens",null);
	});
</pre>


<p>
来源： <a href="http://blog.luluui.com/use-jquery-or-php-setcookies/">http://blog.luluui.com/use-jquery-or-php-setcookies/</a>
</p>


<!--// commentwrap Start-->
<!-- 加载duoshuo.com 评论插件 -->
<div id="commentwrap">
<!-- Duoshuo Comment BEGIN -->
<!-- Duoshuo Comment END -->
</div>
<!--// commentwrap End-->

</div>
<!--// content  End-->
<!--// footer Start-->
<div class="clear">&nbsp;</div>
<div id="footnote" align="center">
	  Cheers!! Vimwiki  © Copyright 2012 Jack Chim. All Rights Reserved.
</div>
<!--// footer End-->
<!-- http://blog.sonitech.org/2011/07/06/sshscp-through-gateway/ -->
</div>

</div>
<a href="javascript:;" id="returnTop" style="bottom: 200px;">回到顶部</a>
<script type="text/javascript">
$(document).ready(function(){
    initTxt();
    //$('#returnTop').hide();
    $(window).scroll(function(){
        if($(document).scrollTop()>=100){
            if($.browser.msie&&($.browser.version == "6.0")){
                $('#returnTop').css("_top","expression(eval(document.documentElement.scrollTop+(document.documentElement.clientHeight/2)-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0))-0);");
            }
            $('#returnTop').animate({bottom:"200px"},{ queue: false, duration: 10 });
        }else{
            $('#returnTop').css("_top","1000");
            $('#returnTop').animate({bottom:"-200px"},{ queue: false, duration: 10 });
        }
    });
    $('#returnTop').click(function(){
        $('html, body').animate({scrollTop:0}, 'slow');
        return false;
    });
 
     
});
 
function initTxt(){
    for(var i=0;i<=300;i++){
        $("#bigBox").append("<p>这是第"+i+"行</p>");
    }
}
</script>
</body>
</html>
